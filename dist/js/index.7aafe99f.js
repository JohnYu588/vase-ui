(function(t){function e(e){for(var i,o,r=e[0],c=e[1],u=e[2],p=0,d=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={index:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("4358")},1517:function(t,e,n){"use strict";var i=n("86f2"),a=n.n(i);a.a},"2e7c":function(t,e,n){"use strict";var i=n("8c2c"),a=n.n(i);a.a},4358:function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("vs-uploader")],1)},s=[],o={name:"app",components:{}},r=o,c=n("2877"),u=Object(c["a"])(r,a,s,!1,null,null,null),l=u.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"vs-button",class:[t.type?"vs-button--"+t.type:"",t.buttonSize?"vs-button--"+t.buttonSize:"",{"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle,"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:t.handleClick}},[t.icon?n("i",{class:t.icon}):t._e(),t.$slots.default?n("span",[t._t("default")],2):t._e()])},d=[],h={name:"VsButton",props:{size:String,type:{type:String,default:"default"},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:""},buttonSize:{type:String,default:"default"}},methods:{handleClick:function(t){this.$emit("click",t)}}},m=h,f=(n("500c"),Object(c["a"])(m,p,d,!1,null,null,null)),g=f.exports;g.install=function(t){t.component(g.name,g)};var b=g,v="cacheTo",w={beforeEach:function(){}},y=i["a"].observable({caches:[]}),x=function(){y.caches.length>0&&(y.caches=[])},j=function(t){return y.caches.push(t)},C=function(){w.beforeEach((function(t,e,n){var i=t.name,a=(t.meta||{})[v],s=a&&a.length>0,o=e.name,r=(e.meta||{})[v],c=r&&r.length>0;s||c?s&&c?(-1===r.indexOf(i)&&x(),j(i)):s?-1===a.indexOf(o)&&(x(),j(i)):c&&-1===r.indexOf(i)&&x():x(),n()}))},O={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{key:"",router:""},n=e.key,i=void 0===n?"cacheTo":n,a=e.router;i&&(v=i,w=a,C());var s={name:"VsKeepAlive",functional:!0,render:function(t,e){var n=e.children;return t("keep-alive",{props:{include:y.caches}},n)}};t.component("VsKeepAlive",s)}},L=O,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flow-box"},[n("div",{staticClass:"type-box"},[n("ul",{staticClass:"type-list"},t._l(t.typeList,(function(e,i){return n("li",{key:i,class:["type-item",t.typeIndex==i?"type-item-on":""],on:{click:function(e){return t.changeType(i)}}},[n("div",{staticClass:"text"},[t._v(t._s(e.name))]),n("div",{staticClass:"line"})])})),0)]),n("van-pull-refresh",{staticStyle:{"min-height":"100vh"},attrs:{"success-duration":800,"success-text":"加载成功","loading-text":"加载中..."},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[2==t.haveData?n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:150,"immediate-check":!1},on:{load:t.onBottomLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("div",{staticClass:"data-list-box",attrs:{id:"data-list-box"}},t._l(t.dataList,(function(e,i){return n("div",{key:i,staticClass:"data-item",style:{width:t.boxWidth+"px"},on:{click:function(n){return t.openModalDe(e)}}},[n("img",{staticClass:"data-thumb",style:{width:"100%",height:e.imgHeight+"px"},attrs:{src:e.thumb}}),n("div",{staticClass:"data-name"},[t._v(t._s(e.name))])])})),0)]):t._e()],1)],1)},k=[],P=n("448a"),R=n.n(P),M=n("a34a"),S=n.n(M),I=n("c973"),E=n.n(I),B=(n("e7e5"),n("d399")),T={name:"VsWaterFull",data:function(){return{list:[],page:1,isRefresh:!1,limit:10,finishedText:"",typeList:[{name:"全部"},{name:"手机数码"},{name:"家用电器"},{name:"酒水饮料"},{name:"钟表珠宝"},{name:"美妆护肤"},{name:"运动户外"},{name:"汽车生活"}],typeIndex:0,dataList:[],haveData:0,isLoading:!1,loading:!1,finished:!1,itemCount:0,lastRowHeights:[0,0],boxMargin:15,boxWidth:165}},created:function(){B["a"].loading({message:"加载中...",duration:0});var t=document.body.offsetWidth;this.boxWidth=(t-3*this.boxMargin)/2,this.onRefresh()},methods:{changeType:function(t){this.typeIndex!==t&&(B["a"].loading({message:"加载中...",duration:0}),this.typeIndex=t,this.onRefresh())},initial:function(){this.page=1,this.finished=!1,this.loading=!0,this.dataList=[],this.getList()},onRefresh:function(){this.initial()},onBottomLoad:function(){this.finished||this.getList()},getList:function(){var t=this;return E()(S.a.mark((function e(){return S.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading){e.next=2;break}return e.abrupt("return");case 2:try{setTimeout((function(){var e={totalPage:5,list:[{id:1,thumb:"https://pic3.zhimg.com/v2-89735fee10045d51693f1f74369aaa46_r.jpg",name:"男儿何不带吴钩，收取关山五十州"},{id:2,thumb:"https://pic1.zhimg.com/v2-ca51a8ce18f507b2502c4d495a217fa0_r.jpg",name:"秦时明月汉时关，万里长征人未还"},{id:3,thumb:"https://pic1.zhimg.com/v2-c90799771ed8469608f326698113e34c_r.jpg",name:"这俩人是现今世上，手段最高明的摸金校尉，都有万夫不挡之勇，神鬼莫测之机，兼有云长之忠，翼德之猛，子龙之勇，孔明之智"},{id:4,thumb:"https://pic1.zhimg.com/v2-8d3dd83f3a419964687a028de653f8d8_r.jpg",name:"但使龙城飞将在，不教胡马度阴山"},{id:5,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/5917432693463665344.jpg",name:"胡司令,看在党国的份上,拉兄弟一把~ --- 《鬼吹灯》"},{id:6,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/5917432693463665344.jpg",name:"看来我要去见马克思了，对不住了战友们，我先走一步，给你们到那边占座位去了，你们有没有什么话要对革命导师说的，我一定替你们转达 --- 《鬼吹灯》"},{id:7,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/5917432693463665344.jpg",name:"你看我和老胡，谁能和你把纯洁的革命友谊进一步升华升华？ --- 《鬼吹灯》"},{id:8,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/7334281492777553585.jpg",name:"千磨万击还坚劲，任尔东南西北风"},{id:9,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/7334281492777553585.jpg",name:"看来我要去见马克思了，对不住了战友们，我先走一步，给你们到那边占座位去了，你们有没有什么话要对革命导师说的，我一定替你们转达 --- 《鬼吹灯》"},{id:10,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/7334281492777553585.jpg",name:"老胡同志，你放心去吧，革命事业有你不多，没你不少，你到了老马那边好好学习革命理论啊，听说他们总吃土豆炖牛肉，你吃得习惯吗？ --- 《鬼吹灯》"},{id:11,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/7334281492777553585.jpg",name:"老胡同志，你放心去吧，革命事业有你不多，没你不少，你到了老马那边好好学习革命理论啊，听说他们总吃土豆炖牛肉，你吃得习惯吗？ --- 《鬼吹灯》"},{id:12,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/7334281492777553585.jpg",name:"老胡同志，你放心去吧，革命事业有你不多，没你不少，你到了老马那边好好学习革命理论啊，听说他们总吃土豆炖牛肉，你吃得习惯吗？ --- 《鬼吹灯》"},{id:13,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/7334281492777553585.jpg",name:"老胡同志，你放心去吧，革命事业有你不多，没你不少，你到了老马那边好好学习革命理论啊，听说他们总吃土豆炖牛肉，你吃得习惯吗？ --- 《鬼吹灯》"},{id:14,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/7334281492777553585.jpg",name:"老胡同志，你放心去吧，革命事业有你不多，没你不少，你到了老马那边好好学习革命理论啊，听说他们总吃土豆炖牛肉，你吃得习惯吗？ --- 《鬼吹灯》"},{id:15,thumb:"https://imgm.gmw.cn/attachement/jpg/site215/20201007/7334281492777553585.jpg",name:"老胡同志，你放心去吧，革命事业有你不多，没你不少，你到了老马那边好好学习革命理论啊，听说他们总吃土豆炖牛肉，你吃得习惯吗？ --- 《鬼吹灯》"}]};t.resolveDataList(e,e.list)}),2e3)}catch(n){t.$toast.clear(),t.isLoading=!1,t.loading=!1}case 3:case"end":return e.stop()}}),e)})))()},loadImagesHeight:function(t,e){var n=this,i=0;e.forEach((function(a,s){var o=new Image;o.src=a.thumb,o.onload=o.onerror=function(a){i++,"load"===a.type?e[s].imgHeight=Math.round(o.height*n.boxWidth/o.width):(e[s].imgHeight=50,console.log("index： ",s,"， 加载报错：",a)),i===e.length&&n.resolveDataList(t,e)}}))},resolveDataList:function(t,e){var n=this;this.page<=1&&(this.itemCount=0,this.dataList=[],this.lastRowHeights=[0,0]),this.dataList=[].concat(R()(this.dataList),R()(e)),this.haveData=this.dataList.length>0?2:1,console.log("...datalist: ",this.dataList),console.log("...this.isLoading: ",this.isLoading),this.$nextTick((function(){setTimeout((function(){n.setItemElementPosition(),n.finished=n.page>=+t.totalPage,n.page>+t.totalPage||(n.page+=1,n.isLoading=!1,n.loading=!1)}),1e3)}))},setItemElementPosition:function(){for(var t=document.getElementById("data-list-box"),e=t.getElementsByClassName("data-item"),n=this.itemCount;n<e.length;n++){var i=e[n],a=this.getMinHeightIndex(this.lastRowHeights),s=this.lastRowHeights[a]+this.boxMargin,o=a*(this.boxWidth+this.boxMargin)+this.boxMargin;i.style.left="".concat(o,"px"),i.style.top="".concat(s,"px"),this.lastRowHeights[a]=s+i.offsetHeight}this.itemCount=e.length;var r=Math.max.apply(null,this.lastRowHeights);t.style.height="".concat(r,"px"),this.$toast.clear(),console.log("...boxEles: ",e.length,", maxH: ",r)},getMinHeightIndex:function(t){for(var e=Math.min.apply(null,t),n=0;n<t.length;n++)if(t[n]===e)return n}}},D=T,H=(n("1517"),Object(c["a"])(D,_,k,!1,null,null,null)),U=H.exports;U.install=function(t){t.component(U.name,U)};var $=U,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uploader"},[n("div",{staticClass:"uploader__wrapper"},[t._l(t.imgList,(function(e,i){return n("div",{key:i,staticClass:"uploader__preview"},[n("div",{staticClass:"uploader__preview-image"},[n("img",{staticClass:"image__img",attrs:{src:t.getObjectURL(e),alt:"图片"},on:{click:function(n){return t.onPreviewImage(e)}}})]),n("div",{staticClass:"uploader__preview-delete"},[n("van-icon",{staticClass:"icon",attrs:{name:"cross"},on:{click:function(n){return t.onDelete(e,t.index)}}})],1)])})),n("div",{staticClass:"add-btn"},[n("van-icon",{staticClass:"photo",attrs:{name:"photograph"}}),n("input",{ref:"input",staticClass:"upButton",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.onChange(e)}}})],1)],2),n("transition",{attrs:{name:"slim-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.cropShow,expression:"cropShow"}],staticClass:"crop-wrap"},[n("ImageCropper",{ref:"cropper",attrs:{src:t.inputImgUrl}}),n("div",{staticClass:"btn-box"},[n("button",{on:{click:t.hideCrop}},[t._v("取消")]),n("button",{on:{click:t.submitCrop}},[t._v("使用")])])],1)])],1)},V=[],W=(n("4662"),n("28a2")),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c"},[n("img",{ref:"img",staticClass:"__img",attrs:{src:t.src}})])},F=[],N=n("9523"),J=n.n(N),K=n("bab4"),q=n.n(K);n("7d5e");function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){J()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){for(var i=atob(this.toDataURL(e,n).split(",")[1]),a=i.length,s=new Uint8Array(a),o=0;o<a;o++)s[o]=i.charCodeAt(o);t(new Blob([s],{type:e||"image/png"}))}});var X={name:"ImageCropper",props:{src:{type:String,default:void 0},aspectRatio:{type:Number,default:1},cropperOptions:{type:Object,default:null}},data:function(){return{}},watch:{src:function(t){var e=this;return E()(S.a.mark((function n(){return S.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=8;break}if(!e.cropper){n.next=5;break}e.cropper.replace(t),n.next=8;break;case 5:return n.next=7,e.$nextTick();case 7:e.init();case 8:case"end":return n.stop()}}),n)})))()}},mounted:function(){var t=this;return E()(S.a.mark((function e(){return S.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.cropper=null,!t.src){e.next=5;break}return e.next=4,t.$nextTick();case 4:t.init();case 5:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=Q({viewMode:1,dragMode:"move",cropBoxMovable:!1,guides:!1,center:!1,background:!1,autoCropArea:1,toggleDragModeOnDblclick:!1,aspectRatio:this.aspectRatio},this.cropperOptions);this.cropper=new q.a(this.$refs.img,t)},getCroppedBlob:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/jpeg",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(i){t.cropper.getCroppedCanvas().toBlob((function(t){i(t)}),e,n)}))}}},Y=X,Z=(n("2e7c"),Object(c["a"])(Y,A,F,!1,null,null,null)),tt=Z.exports,et=function(t){var e;return window.createObjectURL?e=window.createObjectURL(t):window.URL?e=window.URL.createObjectURL(t):window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},nt={name:"VsUploader",data:function(){return{imgList:[],cropShow:!1,inputImgUrl:"",getObjectURL:et,loading:!1}},components:{ImageCropper:tt},methods:{deleteFile:function(t,e){this.imgList.splice(e,1)},onDelete:function(t,e){this.deleteFile(t,e)},onPreviewImage:function(t){var e=this.imgList.map((function(t){return et(t)}));Object(W["a"])({images:e,closeOnPopstate:!0,startPosition:this.imgList.indexOf(t)})},onChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.inputImgUrl=et(e[0]),this.showCrop())},showCrop:function(){this.cropShow=!0},hideCrop:function(){this.cropShow=!1,this.$refs.input.value=""},submitCrop:function(){var t=this;return E()(S.a.mark((function e(){var n;return S.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.hideCrop(),e.next=3,t.$refs.cropper.getCroppedBlob();case 3:n=e.sent,t.imgList.push(n);case 5:case"end":return e.stop()}}),e)})))()}}},it=nt,at=(n("6eee"),Object(c["a"])(it,z,V,!1,null,null,null)),st=at.exports;st.install=function(t){t.component(st.name,st)};var ot=st,rt=(n("a161"),[b,$,ot]),ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{key:"",router:{}},n=e.key,i=void 0===n?"cacheTo":n,a=e.router;rt.forEach((function(e){e.install?t.use(e):e.name&&t.component(e.name,e)})),t.use(L,{key:i,router:a})};"undefined"!==typeof window&&window.Vue&&ct(window.Vue);var ut={version:"0.3.4",install:ct},lt=n("58e6"),pt=n("2bdd"),dt=n("2241"),ht=n("e41f"),mt=n("7744"),ft=n("39d1"),gt=n("f9bd"),bt=n("1437"),vt=n("417e"),wt=n("3acc"),yt=n("b650"),xt=n("ee83"),jt=n("343b"),Ct=n("5596"),Ot=n("2bb1"),Lt=n("a37c"),_t=n("f253"),kt=n("2d6d"),Pt=n("d314"),Rt=n("8f80"),Mt=n("0b33"),St=n("5e46"),It=n("e27c"),Et=n("9f14"),Bt=n("543e"),Tt=n("44bf"),Dt=n("ad06"),Ht=n("1d36"),Ut=n("241e"),$t=n("565f"),zt=n("dc0f"),Vt=n("510b"),Wt=n("f600"),At=n("5d26");i["a"].use(lt["a"]).use(pt["a"]).use(B["a"]).use(dt["a"]).use(ht["a"]).use(mt["a"]).use(ft["a"]).use(W["a"]).use(gt["a"]).use(bt["a"]).use(vt["a"]).use(wt["a"]).use(yt["a"]).use(xt["a"]).use(jt["a"]).use(Ct["a"]).use(Ot["a"]).use(Lt["a"]).use(_t["a"]).use(kt["a"]).use(Pt["a"]).use(Rt["a"]).use(Mt["a"]).use(St["a"]).use(It["a"]).use(Et["a"]).use(Bt["a"]).use(Tt["a"]).use(Dt["a"]).use(Ht["a"]).use(Ut["a"]).use($t["a"]).use(zt["a"]).use(Vt["a"]).use(Wt["a"]).use(At["a"]),i["a"].config.productionTip=!1,i["a"].use(ut),new i["a"]({render:t=>t(l)}).$mount("#app")},"500c":function(t,e,n){"use strict";var i=n("9530"),a=n.n(i);a.a},"6eee":function(t,e,n){"use strict";var i=n("d44d"),a=n.n(i);a.a},"7d5e":function(t,e,n){},"86f2":function(t,e,n){},"8c2c":function(t,e,n){},9530:function(t,e,n){},a161:function(t,e,n){},d44d:function(t,e,n){}});
//# sourceMappingURL=index.7aafe99f.js.map